@model IEnumerable<Project_MVC5.Models.tb_Product>
@{
    ViewBag.Title = "PurchaseGRN";
    Layout = "~/Views/Shared/_PurchaseLayout.cshtml";
    

}




@* add new & edit*@
<form class="form-horizontal" action="/PurchaseGRN/AddorEdit" method="post">

    <div class="form-group">
        <label class="control-label col-sm-4">Product name</label>
        <input type="text" class="form-control col-sm-6" name="Name_Product" id="Name_Product"/>
        <input type="hidden" name="ID_Product" id="ID_Product"/>
    </div>
    <div class="form-group">
        <label class="control-label col-sm-4">Product Price</label>
        <input type="text" class="form-control col-sm-6" name="Price" id="Price"/>
    </div>
    <div class="form-group">
        <label class="control-label col-sm-4">Product Quantity</label>
        <input type="text" class="form-control col-sm-6" name="Quantity" id="Quantity"/>
    </div>
    <div class="form-group">
        <label class="control-label col-sm-4">Product Desc</label>
        <input type="text" class="form-control col-sm-6" name="Description" id="Description"/>
    </div>
    <input type="submit" value="SAVE" class="btn btn-danger text-center"/>
</form>

<table class="table">
    <tr>
        <th>Product Name</th>
        <th>Price</th>
        <th>quantity</th>
        <th>Description</th>
        <th>Option</th>
    </tr>
    <tbody>
        @if (Model != null)
        {
            foreach (var item in Model)
            {
                <tr class="main-data" data-id="@item.ID_Product">
                    <td>@item.Name_Product</td>
                    <td>@item.Price</td>
                    <td>@item.Quantity</td>
                    <td>@item.Description</td>
                    <td>
                        <a href="/PurchaseGRN/Delete/@item.ID_Product">Delete</a> | <a href="#" onclick="showedit(this)">Edit</a>
                    </td>
                </tr>
            }
        }
    </tbody>  
</table>

@* using jquery to show data edit and detail product*@

<script src="~/Scripts/jquery-1.10.2.min.js"></script>

<script>
    function showedit(objects)
    {
        var _this = $(objects).closest(".main-data");
        $("#Name_Product").val(_this.find("td").eq(0).html());
        $("#Price").val(_this.find("td").eq(1).html());
        $("#Quantity").val(_this.find("td").eq(2).html());
        $("#Description").val(_this.find("td").eq(3).html());

        $("#ID_Product").val(_this.attr("data-id"));

    }
</script>
